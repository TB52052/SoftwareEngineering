<!DOCTYPE html>
<html>
    <head>
        <%- include('partials/global-head') %> <%- include('partials/main-page-head') %>
        <link rel="stylesheet" href="/styles/profile.css" />
        <link rel="stylesheet" href="/styles/profile-actions.css" />
        <link rel="stylesheet" href="/styles/edit-profile.css" />
        <link rel="stylesheet" href="/styles/semesterForm.css" />
        <link rel="stylesheet" href="/styles/fileForm.css" />
        <script src="/js/profile.js" defer></script>
        <script src="/js/fileManagement.js" defer></script>
        <title>Study Planner - Profile</title>
    </head>
    <body>
        <div class="wrapper">
            <%- include('partials/nav-bar') %>
            <div class="content">
                <div class="profile-wrapper">
                    <div class="profile-info">
                        <img id="profile-img" src="/images/user.png" alt="User Profile Image" />
                        <div class="details">
                            <div class="display-wrapper">
                                <strong>Email:</strong>
                                <span id="email-span">johndoe@gmail.com</span>
                            </div>
                            <div class="display-wrapper" id="edit-name-wrapper">
                                <strong>Name:</strong>
                                <span id="forename-span">John</span>
                            </div>
                            <div class="display-wrapper">
                                <strong>Surname:</strong>
                                <span id="surname-span">Doe</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="middle-wrapper">
                    <div class="profile-actions">
                        <button id="edit-name" class="pulse edit-profile">Edit Name</button>
                        <button id="change-password" class="pulse edit-profile">Change Password</button>
                        <button id="delete-account" class="pulse edit-profile">Delete Account</button>
                        <button id="select-semester" class="pulse">Select Semester</button>
                    </div>
                </div>
                <div class="end-wrapper">
                    <div class="form-container">
                        <!-- Edit Name Form -->
                        <div id="edit-name-form" class="">
                            <h2 class="form-title">Edit Name</h2>
                            <form>
                                <input type="text" id="name-edit" placeholder="Enter name" required />
                                <input type="text" id="surname-edit" placeholder="Enter surname" required />
                                <input type="password" id="name-password" placeholder="Enter password" required />
                                <button type="button" id="submit-name-edit">Save</button>
                            </form>
                        </div>

                        <!-- Change Password Form -->
                        <div id="change-password-form" class="hidden">
                            <h2 class="form-title">Change Password</h2>
                            <form>
                                <input type="password" id="old-password" placeholder="Enter old password" required />
                                <input type="password" id="new-password" placeholder="Enter new password" required />
                                <input type="password" id="confirm-password" placeholder="Confirm new password" required />
                                <button type="button" id="submit-password-edit">Save</button>
                            </form>
                        </div>

                        <!-- Delete Account Form -->
                        <div id="delete-account-form" class="hidden">
                            <h2 class="form-title">Delete Account</h2>
                            <form>
                                <input type="password" id="delete-password" placeholder="Enter password" required />
                                <button type="button" id="submit-delete-account">Delete</button>
                            </form>
                        </div>

                        <!-- Semester Form -->
                        <div id="select-semester-form" class="hidden">
                            <h2 class="form-title">Select a Semester</h2>
                            <form id="semesterForm">
                                <select name="semester" id="seasonForm">
                                    <% semesterInfo.forEach(function(semester) { %>
                                    <option value="<%= semester.season %>"><%= semester.season %></option>
                                    <% }); %>
                                </select>

                                <div id="fileForm">
                                    <input id="fileInputForm" type="file" id="myFile" name="filename" accept=" .csv" />
                                </div>
                                <button type="submit" id="submit-semester">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <%- include('partials/error-box') %>
    </body>
</html>
